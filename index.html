<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Realistic Space Animation</title>
  <style>
    body {
      margin: 0;
      background: #000;
      overflow: hidden;
    }
    #spaceCanvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      display: block;
      z-index: 0;
      pointer-events: none;
    }
    @media (max-width: 767px) {
      #spaceCanvas { display: none; }
    }
  </style>
</head>
<body>
<canvas id="spaceCanvas"></canvas>
<script>
// --- Image URLs (public domain or NASA) ---
const planetTextures = {
  mars:    'https://upload.wikimedia.org/wikipedia/commons/0/02/OSIRIS_Mars_true_color.jpg', // Mars texture
  neptune: 'https://upload.wikimedia.org/wikipedia/commons/5/56/Neptune_Full.jpg',            // Neptune texture
  saturn:  'https://upload.wikimedia.org/wikipedia/commons/c/c7/Saturn_during_Equinox.jpg',   // Saturn texture
  moon:    'https://upload.wikimedia.org/wikipedia/commons/e/e1/FullMoon2010.jpg',            // Moon texture
  saturnRing: 'https://upload.wikimedia.org/wikipedia/commons/2/2c/Saturn_Ring_PNG.png',      // Saturn ring (transparent PNG)
  milkyway: 'https://upload.wikimedia.org/wikipedia/commons/8/8a/Milky_Way_Arch.jpg'          // Milky Way (for background)
};

// --- Preload Images ---
function preloadImages(urls, callback) {
  const images = {};
  let loaded = 0, total = Object.keys(urls).length;
  for (const key in urls) {
    images[key] = new Image();
    images[key].crossOrigin = "anonymous";
    images[key].src = urls[key];
    images[key].onload = () => {
      loaded++;
      if (loaded === total) callback(images);
    };
  }
}

// --- Animation Logic ---
function startSpaceAnimation(images) {
  const canvas = document.getElementById('spaceCanvas');
  const ctx = canvas.getContext('2d');
  let width = window.innerWidth, height = window.innerHeight;
  canvas.width = width;
  canvas.height = height;

  // --- Milky Way band ---
  function drawMilkyWay() {
    ctx.save();
    ctx.globalAlpha = 0.25;
    // Draw the Milky Way image as a wavy band
    const mwWidth = width * 1.5, mwHeight = height * 0.4;
    ctx.translate(width/2, height/2);
    ctx.rotate(-0.2);
    ctx.drawImage(images.milkyway, -mwWidth/2, -mwHeight/2, mwWidth, mwHeight);
    ctx.restore();
    ctx.globalAlpha = 1;
  }

  // --- Stars ---
  const stars = Array.from({length: 100}, () => ({
    x: Math.random() * width,
    y: Math.random() * height,
    r: Math.random() * 1.5 + 0.3,
    alpha: Math.random() * 0.7 + 0.3,
    speed: Math.random() * 0.15 + 0.05
  }));

  function drawStars() {
    stars.forEach(star => {
      ctx.save();
      ctx.globalAlpha = star.alpha;
      ctx.beginPath();
      ctx.arc(star.x, star.y, star.r, 0, 2 * Math.PI);
      ctx.fillStyle = '#fff';
      ctx.shadowColor = '#fff';
      ctx.shadowBlur = 8;
      ctx.fill();
      ctx.restore();

      // Animate star
      star.y += star.speed;
      if (star.y > height) {
        star.y = 0;
        star.x = Math.random() * width;
      }
    });
  }

  // --- Planets Data ---
  const planets = [
    {
      name: 'Mars',
      x: width * 0.25, y: height * 0.4, r: 50,
      texture: images.mars,
      moons: [
        { r: 10, dist: 70, speed: 0.008, angle: Math.random() * Math.PI * 2 }
      ]
    },
    {
      name: 'Neptune',
      x: width * 0.75, y: height * 0.3, r: 60,
      texture: images.neptune,
      moons: [
        { r: 12, dist: 90, speed: 0.006, angle: Math.random() * Math.PI * 2 }
      ]
    },
    {
      name: 'Saturn',
      x: width * 0.55, y: height * 0.7, r: 70,
      texture: images.saturn,
      ring: images.saturnRing,
      moons: [
        { r: 14, dist: 110, speed: 0.004, angle: Math.random() * Math.PI * 2 },
        { r: 8, dist: 90, speed: 0.007, angle: Math.random() * Math.PI * 2 }
      ]
    }
  ];

  // --- Draw a planet with texture and optional ring ---
  function drawPlanet(planet) {
    // Draw ring if present
    if (planet.ring) {
      ctx.save();
      ctx.globalAlpha = 0.8;
      ctx.translate(planet.x, planet.y);
      ctx.rotate(-0.3); // Tilt ring
      ctx.drawImage(planet.ring, -planet.r*2.5, -planet.r*0.6, planet.r*5, planet.r*1.2);
      ctx.restore();
    }
    // Draw planet
    ctx.save();
    ctx.beginPath();
    ctx.arc(planet.x, planet.y, planet.r, 0, 2 * Math.PI);
    ctx.closePath();
    ctx.clip();
    ctx.drawImage(planet.texture, planet.x-planet.r, planet.y-planet.r, planet.r*2, planet.r*2);
    ctx.restore();
    // Add glow
    ctx.save();
    ctx.globalAlpha = 0.25;
    ctx.shadowColor = "#fff";
    ctx.shadowBlur = 32;
    ctx.beginPath();
    ctx.arc(planet.x, planet.y, planet.r, 0, 2 * Math.PI);
    ctx.fillStyle = "#fff";
    ctx.fill();
    ctx.restore();
  }

  // --- Draw a moon with texture ---
  function drawMoon(planet, moon) {
    moon.angle += moon.speed;
    const mx = planet.x + Math.cos(moon.angle) * moon.dist;
    const my = planet.y + Math.sin(moon.angle) * moon.dist;
    ctx.save();
    ctx.beginPath();
    ctx.arc(mx, my, moon.r, 0, 2 * Math.PI);
    ctx.closePath();
    ctx.clip();
    ctx.drawImage(images.moon, mx-moon.r, my-moon.r, moon.r*2, moon.r*2);
    ctx.restore();
    // Orbit path (optional)
    ctx.save();
    ctx.globalAlpha = 0.12;
    ctx.beginPath();
    ctx.arc(planet.x, planet.y, moon.dist, 0, 2 * Math.PI);
    ctx.strokeStyle = "#fff";
    ctx.lineWidth = 1;
    ctx.setLineDash([2, 6]);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.restore();
  }

  // --- Animation Loop ---
  function animate() {
    ctx.clearRect(0, 0, width, height);
    drawMilkyWay();
    drawStars();
    planets.forEach(planet => {
      drawPlanet(planet);
      planet.moons.forEach(moon => drawMoon(planet, moon));
    });
    requestAnimationFrame(animate);
  }

  animate();

  // --- Responsive resize ---
  window.addEventListener('resize', () => {
    width = window.innerWidth;
    height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;
    // Update planet positions for new width/height
    planets[0].x = width * 0.25; planets[0].y = height * 0.4;
    planets[1].x = width * 0.75; planets[1].y = height * 0.3;
    planets[2].x = width * 0.55; planets[2].y = height * 0.7;
  });
}

// --- Start everything ---
preloadImages(planetTextures, startSpaceAnimation);
</script>
</body>
</html>


